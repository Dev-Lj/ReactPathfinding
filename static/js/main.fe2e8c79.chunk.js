(this.webpackJsonppathfinder=this.webpackJsonppathfinder||[]).push([[0],{16:function(e,t,a){e.exports=a(25)},22:function(e,t,a){},23:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(15),s=a.n(r),o=a(4),c=a(5),d=a(8),u=a(7),l=a(6),h=a(3),v=a.n(h),f=a(12),b=a(13),p=a(9),j=a(1),g=a(2),k=(a(22),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"getCoordinates",value:function(){return this.props.coordinates}},{key:"render",value:function(){var e=this,t="";return this.props.isTargetNode?t="target":this.props.isStartNode?t="start":this.props.isWay?t="way":this.props.isVisited&&(t="visited"),i.a.createElement("div",{className:"node border "+t,onClick:function(){e.props.nodeClicked&&e.props.nodeClicked(e)}})}}]),a}(i.a.Component)),O=Object(g.a)("startNode"),y=Object(g.a)("targetNode");function m(e){return new Promise((function(t){return setTimeout(t,e)}))}var N=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),n=t.call(this,e),Object.defineProperty(Object(p.a)(n),O,{writable:!0,value:void 0}),Object.defineProperty(Object(p.a)(n),y,{writable:!0,value:void 0}),n.state={nodesGrid:[],isPathfindingRunning:!1},n.nodeClicked=n.nodeClicked.bind(Object(p.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.initGrid()}},{key:"initGrid",value:function(){var e=function(e,t){for(var a=[],n=0;n<t;n++){a[n]=[];for(var i=0;i<e;i++)a[n][i]={key:""+n+i,coordinates:{Y:n,X:i},isVisited:!1,isStartNode:!1,isTargetNode:!1,isWay:!1}}return a}(40,40);this.setState({nodesGrid:e})}},{key:"formatNodes",value:function(e){var t=this;return e.map((function(e,a){return i.a.createElement("div",{key:a,className:"row justify-content-center"},e.map((function(e,a){return i.a.createElement(k,{key:e.key,coordinates:e.coordinates,isVisited:e.isVisited,isStartNode:e.isStartNode,isTargetNode:e.isTargetNode,isWay:e.isWay,nodeClicked:t.nodeClicked})})))}))}},{key:"nodeClicked",value:function(e){var t=e.getCoordinates();switch(this.props.clickMode){case"start":this.setStartNode(t);break;case"target":this.setTargetNode(t);break;default:alert("Invalid clickmode: ".concat(this.props.clickMode))}this.setState({nodesGrid:Object(b.a)(this.state.nodesGrid)})}},{key:"setStartNode",value:function(e){var t=this.state.nodesGrid[e.Y][e.X];Object(j.a)(this,O)[O]&&(Object(j.a)(this,O)[O].isStartNode=!1),t.isStartNode=!0,Object(j.a)(this,O)[O]=t}},{key:"setTargetNode",value:function(e){var t=this.state.nodesGrid[e.Y][e.X];Object(j.a)(this,y)[y]&&(Object(j.a)(this,y)[y].isTargetNode=!1),t.isTargetNode=!0,Object(j.a)(this,y)[y]=t}},{key:"startPathFinding",value:function(){var e=Object(f.a)(v.a.mark((function e(){var t,a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==Object(j.a)(this,O)[O]&&void 0!==Object(j.a)(this,y)[y]){e.next=3;break}return alert("Start- or targetnode missing. Cannot start Dijkstra"),e.abrupt("return",!1);case 3:return this.setState({isPathfindingRunning:!0}),this.props.pathFinder.init(this.state.nodesGrid),t=this.props.pathFinder.doPathFinding(),a=t.visitedNodes,n=t.shortestPath,e.next=8,this.visualizePathFinding(a);case 8:return e.next=10,this.visualizeShortestPath(n);case 10:return e.next=12,m(1e3);case 12:this.initGrid(),this.setStartNode(Object(j.a)(this,O)[O].coordinates),this.setTargetNode(Object(j.a)(this,y)[y].coordinates),this.setState({isPathfindingRunning:!1});case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"visualizePathFinding",value:function(){var e=Object(f.a)(v.a.mark((function e(t){var a,n,i,r=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(l.a)(t),e.prev=1,i=v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.value,r.setState((function(e){var a=Object(b.a)(e.nodesGrid);return a[t.getYPos()][t.getXPos()].isVisited=!0,a})),e.next=4,m(10);case 4:case"end":return e.stop()}}),e)})),a.s();case 4:if((n=a.n()).done){e.next=8;break}return e.delegateYield(i(),"t0",6);case 6:e.next=4;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),a.e(e.t1);case 13:return e.prev=13,a.f(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"visualizeShortestPath",value:function(){var e=Object(f.a)(v.a.mark((function e(t){var a,n,i,r=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(l.a)(t),e.prev=1,i=v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.value,r.setState((function(e){var a=Object(b.a)(e.nodesGrid);return a[t.getYPos()][t.getXPos()].isWay=!0,a})),e.next=4,m(10);case 4:case"end":return e.stop()}}),e)})),a.s();case 4:if((n=a.n()).done){e.next=8;break}return e.delegateYield(i(),"t0",6);case 6:e.next=4;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),a.e(e.t1);case 13:return e.prev=13,a.f(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"container-fluid justify-content-center mt-2"},i.a.createElement("div",{className:"row justify-content-center"},i.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){e.startPathFinding()},disabled:this.state.isPathfindingRunning},"Animate Dijkstra")),i.a.createElement("div",{className:"container"},this.formatNodes(this.state.nodesGrid)))}}]),a}(i.a.Component),w=Object(g.a)("xPos"),P=Object(g.a)("yPos"),S=Object(g.a)("distanceToStartNode"),T=Object(g.a)("lastNode"),E=Object(g.a)("isVisited"),C=Object(g.a)("isTargetNode"),x=function(){function e(t,a){Object(o.a)(this,e),Object.defineProperty(this,w,{writable:!0,value:void 0}),Object.defineProperty(this,P,{writable:!0,value:void 0}),Object.defineProperty(this,S,{writable:!0,value:1/0}),Object.defineProperty(this,T,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:!1}),Object.defineProperty(this,C,{writable:!0,value:!1}),Object(j.a)(this,w)[w]=t,Object(j.a)(this,P)[P]=a}return Object(c.a)(e,[{key:"setDistanceToStartNode",value:function(e){Object(j.a)(this,S)[S]=e}},{key:"getDistanceToStartNode",value:function(){return Object(j.a)(this,S)[S]}},{key:"setTargetNode",value:function(e){Object(j.a)(this,C)[C]=e}},{key:"isTargetNode",value:function(){return Object(j.a)(this,C)[C]}},{key:"setVisited",value:function(){Object(j.a)(this,E)[E]=!0}},{key:"isVisited",value:function(){return Object(j.a)(this,E)[E]}},{key:"getXPos",value:function(){return Object(j.a)(this,w)[w]}},{key:"getYPos",value:function(){return Object(j.a)(this,P)[P]}},{key:"setLastNode",value:function(e){Object(j.a)(this,T)[T]=e}},{key:"getLastNode",value:function(){return Object(j.a)(this,T)[T]}}]),e}(),D=Object(g.a)("unvisitedNodes"),G=function(){function e(){Object(o.a)(this,e),Object.defineProperty(this,D,{writable:!0,value:void 0})}return Object(c.a)(e,[{key:"init",value:function(e){Object(j.a)(this,D)[D]=this.gridToUnvisited(e)}},{key:"gridToUnvisited",value:function(e){var t,a=[],n=Object(l.a)(e);try{for(n.s();!(t=n.n()).done;){var i,r=t.value,s=Object(l.a)(r);try{for(s.s();!(i=s.n()).done;){var o=i.value,c=new x(o.coordinates.X,o.coordinates.Y);a.push(c),o.isTargetNode&&c.setTargetNode(!0),o.isStartNode&&c.setDistanceToStartNode(0)}}catch(d){s.e(d)}finally{s.f()}}}catch(d){n.e(d)}finally{n.f()}return a}},{key:"doPathFinding",value:function(){if(!Object(j.a)(this,D)[D])throw new Error("No nodes were set.");for(var e=[];Object(j.a)(this,D)[D].length;){this.sortByDistance(Object(j.a)(this,D)[D]);var t=Object(j.a)(this,D)[D].shift();if(t.isTargetNode())return{visitedNodes:e,shortestPath:this.getShortestPath(t)};var a=this.getUnvisitedNeighbours(t);this.updateNeighbours(a,t),t.setVisited(),e.push(t)}}},{key:"getShortestPath",value:function(e){for(var t=[],a=e.getLastNode();a;)t.push(a),a=a.getLastNode();return t}},{key:"getUnvisitedNeighbours",value:function(e){var t=e.getXPos(),a=e.getYPos();return Object(j.a)(this,D)[D].filter((function(e){var n=e.getXPos(),i=e.getYPos();return!e.isVisited()&&(n===t+1&&i===a||n===t-1&&i===a||n===t&&i===a+1||n===t&&i===a-1)}))}},{key:"updateNeighbours",value:function(e,t){var a,n=t.getDistanceToStartNode()+1,i=Object(l.a)(e);try{for(i.s();!(a=i.n()).done;){var r=a.value;r.setDistanceToStartNode(n),r.setLastNode(t)}}catch(s){i.e(s)}finally{i.f()}}},{key:"sortByDistance",value:function(e){e.sort((function(e,t){return e.getDistanceToStartNode()-t.getDistanceToStartNode()}))}}]),e}(),M=(a(23),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={nodeClickMode:"start"},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){alert("This site is WIP. The state of the site does not represent the final state.")}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{className:"navbar navbar-light bg-light"},i.a.createElement("span",{className:"navbar-brand"},"PathFinder")),i.a.createElement("div",{className:"row justify-content-md-center"},i.a.createElement("div",{className:"col-2 justify-content-center"},i.a.createElement("div",{className:"row"},i.a.createElement(k,{className:"col-sm",isStartNode:!0}),i.a.createElement("label",{className:"col-sm "+("start"===this.state.nodeClickMode?"active":""),onClick:function(){e.setState({nodeClickMode:"start"})}},"Start Node"))),i.a.createElement("div",{className:"col-2 justify-content-center"},i.a.createElement("div",{className:"row"},i.a.createElement(k,{className:"col-sm",isTargetNode:!0}),i.a.createElement("label",{className:"col-sm "+("target"===this.state.nodeClickMode?"active":""),onClick:function(){e.setState({nodeClickMode:"target"})}},"Target Node")))),i.a.createElement(N,{pathFinder:new G,clickMode:this.state.nodeClickMode}))}}]),a}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(24);s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.fe2e8c79.chunk.js.map